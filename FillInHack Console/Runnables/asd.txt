https://stackoverflow.com/questions/31553882/testing-for-active-flags-during-keyboard-input